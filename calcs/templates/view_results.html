<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scheduled calculations</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>
<body style="background-color:#d1d1e0;">
<div class="topnav">
    <a href="./">Enter input</a>
    <a class="active" href="./view_results">View results</a>
</div>

<div>
<h1 id="history" align="center">Scheduled computations</h1>

    <form action="/result">
        <table>
            <tr>
                <td> <b> Function name </b> </td>
                <td> <b> Argument(s) </b> </td>
                <td> <b> Time limit </b> </td>
                <td> <b> Accuracy requested </b> </td>
                <td> <b> Current status </b> </td>
                <td> <b> View results (if available) </b> </td>
            </tr>
            {% for task_id in results %}
            <tr>
                <td> {{ results[task_id]['func_name'] }}</td>
                <td> {{ results[task_id]['argument'] }}</td>
                <td> {{ results[task_id]['time_limit'] }} </td>
                <td> {{ results[task_id]['accuracy'] }} </td>
                <td> {{ results[task_id]['status'] }} </td>
                <td>
                    {% if results[task_id]['status'] == 'COMPLETED' %} <button name="task_id"
                                                                            type="submit"
                                                                            value={{ task_id }}> View results </button>
                    {% else %} <button name="task_id"
                                       type="submit"
                                       value={{ task_id }}
                                       disabled> Pending... </button>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </table>
    </form>
</div>

<div>
    TODO: Add button for refreshing page
</div>
</body>
<div class="footer" id="end">Created in July 2019</div>
</html>