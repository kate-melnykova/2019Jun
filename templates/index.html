<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Online calculator</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>
<body style="background-color:#d1d1e0;">

<div class="topnav">
  <a class="active" href="#home">Home</a>
  <a href="#input">Enter input</a>
    <a href="#history">History of computations</a>
  <a href="#output">See output</a>
  <a href="#end">End of the page</a>
</div>
<h1 id="home" align="center">Online calculator</h1>
<div>

    <h2 id="input" align="center">Enter the value</h2>
    <fieldset>
        <form id="submit_computation" method="POST" action="/schedule_calculation">
            <p>
                <select name="func_name">
                    <option value = "factorial"> Factorial of </option>
                    <option value = "pi"> &pi; over time (in sec) </option>
                    <option value = "e"> e over time (in sec) </option>
                </select>

            <input type="number" name="argument" min="2" max="10000" value="{% if inp %}{{inp}}{% else %}3{% endif %}" required />
                and display first
                <input type="number" name="accuracy" min="2" max="10000" value="{% if n_digits %} {{n_digits}}
                                                                                {% else %}3
                                                                                {% endif %}" required/>
                digits
            </p>
            <p><input type="submit" name="submit_button" value = "submit" /></p>
        </form>
    </fieldset>

</div>
<div id="history">
    <fieldset>
        <h2 id="submitted" align="center">Submitted computations</h2>
        <table>
            <tr>
                <td>ID</td>
                <td>Function Name</td>
                <td>Input</td>
                <td>Parameter</td>
                <td>Computed?</td>
            </tr>
        {% for item in tables %}
            <tr>
            <td>{{ item[0] }}</td>
            <td>{{ item[1] }}</td>
            <td>{{ item[2] }}</td>
            <td>{{ item[3] }}</td>
            <td>
                {% if  item[4] == "yes" %}
                    <form method="POST">
                    <input id="viewId" name="submit_button" type="hidden" value="{{ item[0] }}">
                    <button type="submit"> View results </button>
                    </form>
                {% else %}
                    {{ item[4] }}
                {% endif %}
            </td>
            </tr>

            {% endfor %}
        </table>
    </fieldset>
</div>
<div>
{% if out_val %}
<fieldset>
<h2 id="output" align="center">Computed values</h2>
    {%include '%s.html'% func_name %}
</fieldset>
{% endif %}
    <p id="end"></p>
</div>
<div class="footer">Created in July 2019</div>
</body>
</html>
